# FGSSmap プレースマーク募集サイト

山口大学国際総合科学部10周年記念プロジェクトとして、思い出の場所を共有する6ステップWebフォームシステムです。

## 📍 プロジェクト概要

- **目的**: 学生・卒業生から思い出の場所の情報を収集し、FGSSmapに追加する
- **対象**: 山口大学国際総合科学部関係者
- **期間**: 10周年記念イベントの一環

## ✅ 実装済み機能

### 1. 6ステップフォームシステム
- ✅ **ステップ1: 同意確認** - プライバシー同意の必須チェック
- ✅ **ステップ2: 基本情報** - 名前、入学年度、所属学部入力
- ✅ **ステップ3: 地図範囲選択** - キャンパス周辺/日本全国/全世界
- ✅ **ステップ4: 地域選択** - 都道府県（日本）または世界地域（海外）
- ✅ **ステップ5: 場所詳細** - 場所名、思い出内容、位置情報、役立つフレーズ
- ✅ **ステップ6: 送信確認** - 入力内容確認と送信

### 2. 条件分岐ロジック
- ✅ **キャンパス周辺スキップ機能**: ステップ3でキャンパス周辺選択時、ステップ4を自動スキップ
- ✅ **地域選択の動的切り替え**: 日本/世界選択に応じた適切なオプション表示
- ✅ **役立つフレーズ表示**: 海外選択時のみ表示される条件付きフィールド

### 3. プログレス管理機能
- ✅ **視覚的進捗表示**: 6ステップの進行状況をリアルタイム表示
- ✅ **ステップ間ナビゲーション**: 戻る/次へボタンでの柔軟な移動
- ✅ **データ永続化**: ステップ移動時のデータ保持機能
- ✅ **完了状態管理**: 各ステップの完了状況を視覚的に表現

### 4. バリデーション・UI機能
- ✅ **リアルタイム検証**: 入力中の即座なバリデーション
- ✅ **視覚的フィードバック**: 成功/エラー状態の色分け表示
- ✅ **必須フィールド管理**: 赤アスタリスクと動的な有効化制御
- ✅ **レスポンシブデザイン**: モバイル完全対応UI

### 5. Google Forms統合
- ✅ **最新エントリーID**: フラット化されたフォーム構造対応
- ✅ **自動送信**: no-corsモードでの確実な送信
- ✅ **条件分岐データ**: 選択内容に応じた適切なフィールドマッピング
- ✅ **エラーハンドリング**: 送信失敗時の適切な処理と再送信機能

## 🔧 技術仕様

### フロントエンド
- **HTML5**: セマンティックな構造とアクセシブルなフォーム
- **CSS3**: Flexbox/Gridベースのモダンレイアウト
- **JavaScript ES6+**: クラスベースの6ステップフォーム管理
- **Google Fonts**: Noto Sans JP + Inter
- **Font Awesome**: プログレスとアクションアイコン

### データフロー
- **MultiStepFormManager**: 6ステップの状態管理クラス
- **GoogleFormsHandler**: 統合送信ハンドラー
- **FormData API**: ブラウザネイティブな送信形式

## 📂 ファイル構造

```
├── index.html              # 6ステップメインフォーム
├── js/
│   └── google-forms.js     # Google Forms統合（最新エントリーID）
├── test.html              # 動作確認用テストページ
└── README.md              # プロジェクト文書
```

## 🎯 フォームフロー詳細

### ステップフロー
```
1. 同意確認 → 2. 基本情報 → 3. 地図範囲 → 4. 地域選択 → 5. 場所詳細 → 6. 送信
                                    ↓
                            キャンパス周辺選択時
                                    ↓
            1. 同意確認 → 2. 基本情報 → 3. 地図範囲 → 5. 場所詳細 → 6. 送信
                                                   (ステップ4スキップ)
```

### 条件分岐ロジック
- **キャンパス周辺**: ステップ4自動スキップ
- **日本全国**: 都道府県選択（47都道府県）
- **全世界**: 世界地域選択（9地域）+ 役立つフレーズフィールド

## 🔄 最新 Google Forms エントリーID

```javascript
{
  agreement: 'entry.1561446963',      // プライバシー同意
  name: 'entry.1015364381',           // 名前  
  admissionYear: 'entry.938598983',   // 入学年度
  department: 'entry.1399231733',     // 所属学部
  mapType: 'entry.2034270027',        // 地図の種類
  prefectureArea: 'entry.543788472',  // 都道府県
  worldArea: 'entry.1787451133',      // 世界地域
  placeName: 'entry.292626865',       // 場所名
  memoryContent: 'entry.1821330701',  // 思い出内容
  locationInfo: 'entry.1788023988',   // 位置情報
  usefulPhrase: 'entry.2027696795',   // 役立つフレーズ
  submissionTime: 'entry.627026854'   // 送信日時
}
```

## 🚀 デプロイメント

静的サイトとして即座にデプロイ可能です。

### 推奨環境
- **HTTPS**: Google Forms送信の安全性確保
- **モダンブラウザ**: ES6+サポートブラウザ
- **CDN対応**: 外部フォント・アイコンライブラリ

### デプロイ手順
1. **Publishタブ**で1クリックデプロイ
2. 提供されたURLでアクセス確認
3. 各ステップの動作テスト実行

## ✨ 主要な改良点

### 今回の実装
- ✅ **6ステップフォーム**: 段階的な入力でユーザビリティ向上
- ✅ **条件分岐ロジック**: キャンパス周辺選択時の自動スキップ
- ✅ **最新エントリーID**: フラット化されたGoogle Forms対応
- ✅ **プログレス表示**: 視覚的な進行状況管理

### UX改善点
- **段階的開示**: 一度に多くの情報を求めずステップ分割
- **直感的ナビゲーション**: 戻る/次へでの自由な移動
- **即座なフィードバック**: リアルタイム入力検証
- **条件に応じた最適化**: 不要なステップの自動スキップ

## 🔍 今後の拡張可能性

- [ ] A/Bテスト機能（異なるフロー比較）
- [ ] 入力途中での一時保存機能
- [ ] Google Analytics統合（ステップ別離脱率分析）
- [ ] 多言語対応（英語/中国語/韓国語）
- [ ] PWA対応（オフライン機能）

## 📞 サポート

技術的な問題や要望については、プロジェクト担当者にご連絡ください。

---
**🎉 山口大学国際総合科学部10周年記念 - FGSSmapプロジェクト**
